# Accessibility (A11Y) Playbook

---

## Purpose

This document defines accessibility practices for the frontend.  
It references **Web Content Accessibility Guidelines (WCAG) 2.2** and other authoritative sources.  
The aim is to ensure our application is inclusive and usable by all users, including those using assistive technologies.  

The rules below apply to all components and pages.

---

## WCAG Contrast Requirements

### Text Contrast

- **Normal text** must have a contrast ratio of at least **4.5:1** against its background [1].  
- **Large text** (24 px or 19 px bold and larger) must have a contrast ratio of at least **3:1** [1].  
- For **WCAG AAA** compliance:  
  - Normal text requires **7:1**  
  - Large text requires **4.5:1** [2].  
- **Incidental text** (e.g., disabled buttons) and **logos** do not have contrast requirements [1].  

Use your design tokens to choose colors that meet these ratios.  
Tools like **Lighthouse**, **axe**, or **Color Contrast Analyzer** can verify contrast.

---

## Focus Appearance

- A focus indicator must have an outline area at least equal to a **2 CSS-pixel thick perimeter** of the unfocused component [3].  
- The indicator can be inside or outside the element, but its area must be large enough to be visible.  
- The contrast ratio between focused and unfocused states must be at least **3:1** [3].  

**Do not remove or hide focus outlines** (avoid `outline: none` or `:focus { outline: 0; }`); instead, style them to comply with these rules.

---

## Target Size

Interactive elements (buttons, links, inputs, etc.) must have a minimum touch target of **24Ã—24 CSS pixels**  
or ensure there is enough spacing that allows a **24 px diameter circle** without overlapping another interactive element [4].  

Exceptions include inline elements or essential constraints [5].

---

## Keyboard and ARIA Patterns

Ensure all interactive components are **keyboard accessible**:

- All interactive elements must be reachable using the **Tab** key in a logical order.  
  Use `tabindex="0"` on non-interactive elements that should be focusable.  
- Use appropriate **ARIA roles** (`role="button"`, `role="menu"`, etc.) when HTML semantics alone do not convey the role.  
  Only add ARIA attributes when necessary.  
- Implement **focus trapping** for modals and dialogs, ensuring focus cycles within the dialog until it closes.  
  Use `role="dialog"` and associate the dialog with a labelled title via `aria-labelledby`.  
- For accordion, tab, and menu components, use correct ARIA patterns (e.g., `aria-expanded` to indicate open/close state).  
- Avoid using `aria-hidden` on visible content; it hides content from assistive technologies.

---

## eslint-plugin-jsx-a11y

Install and enforce **eslint-plugin-jsx-a11y** to catch common accessibility issues.  
Extend your ESLint config with the recommended rules:

```js
// .eslintrc.js
module.exports = {
  extends: ['next/core-web-vitals', 'plugin:jsx-a11y/recommended'],
  rules: {
    // add custom rules here if needed
  },
};
````

This plugin warns when:

* Images lack `alt` text
* Interactive elements are missing keyboard handlers or ARIA labels
* Other accessible markup issues are detected

Combine it with **Prettier** and **TypeScript** rules for consistent code.

---

## Additional Accessibility Practices

* **Semantic HTML:**
  Use the right elements for the right purpose (`<button>` instead of `<div>` with a click handler).
  Screen readers rely on semantics to communicate function.

* **Form Labels:**
  Associate `<label>` with form controls via `for` and `id`, or by wrapping the control.
  Provide clear instructions and error messages.
  Use `aria-describedby` to connect error messages to inputs.

* **Alt Text:**
  Provide `alt` text describing the purpose of images.
  Omit alt text (`alt=""`) only for decorative images.

* **Headings:**
  Use hierarchical headings (H1, H2, etc.) to structure content logically.

* **Motion:**
  Respect user preferences using CSS
  `@media (prefers-reduced-motion: reduce)`
  to disable animations or transitions for users who prefer minimal motion.
  Provide fallback transitions (e.g., fade) if necessary.

* **Testing with Assistive Technologies:**
  Use screen readers (**NVDA**, **VoiceOver**) and keyboard navigation to test key flows.
  Run automated a11y tests with tools like **axe-core** in Playwright or **jest-axe** in unit tests.

---